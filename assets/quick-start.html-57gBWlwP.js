import{_ as r}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as c,o as d,c as u,b as a,d as n,e as l,w as s,a as i}from"./app-NTN8a9qN.js";const v={},k=a("h1",{id:"快速开始",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#快速开始"},[a("span",null,"快速开始")])],-1),b=a("p",null,[n("此处将展示一个 最少配置 的 "),a("code",null,"JT-Dashboard"),n(" 服务的搭建。")],-1),m={class:"hint-container tip"},h=a("p",{class:"hint-container-title"},"传送门",-1),g={href:"https://github.com/hylexus/jt-framework-samples-maven/tree/master/samples-with-dashboard",target:"_blank",rel:"noopener noreferrer"},x=i('<h2 id="搭建服务端" tabindex="-1"><a class="header-anchor" href="#搭建服务端"><span>搭建服务端</span></a></h2><h3 id="依赖" tabindex="-1"><a class="header-anchor" href="#依赖"><span>依赖</span></a></h3><h4 id="spring-boot-2-x" tabindex="-1"><a class="header-anchor" href="#spring-boot-2-x"><span>spring-boot-2.x</span></a></h4><div class="hint-container warning"><p class="hint-container-title">注意</p><p><code>jt-framework-dashboard</code> 目前只支持 <code>spring-boot-3.x</code> 版本。后续会支持 <code>spring-boot-2.x</code> 版本。</p></div><h4 id="spring-boot-3-x" tabindex="-1"><a class="header-anchor" href="#spring-boot-3-x"><span>spring-boot-3.x</span></a></h4><p>使用 <code>spring-boot-3.x</code> 的项目引入 <code>jt-dashboard-server-spring-boot-starter</code></p>',6),y=a("div",{class:"language-xml line-numbers-mode","data-ext":"xml","data-title":"xml"},[a("pre",{class:"language-xml"},[a("code",null,[n(`
`),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("dependency")]),a("span",{class:"token punctuation"},">")]),n(`
    `),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("groupId")]),a("span",{class:"token punctuation"},">")]),n("io.github.hylexus.jt"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("groupId")]),a("span",{class:"token punctuation"},">")]),n(`
    `),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("artifactId")]),a("span",{class:"token punctuation"},">")]),n("jt-dashboard-server-spring-boot-starter"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("artifactId")]),a("span",{class:"token punctuation"},">")]),n(`
    `),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("version")]),a("span",{class:"token punctuation"},">")]),n("2.2.0-beta3"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("version")]),a("span",{class:"token punctuation"},">")]),n(`
`),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("dependency")]),a("span",{class:"token punctuation"},">")]),n(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"})])],-1),f=a("div",{class:"language-groovy line-numbers-mode","data-ext":"groovy","data-title":"groovy"},[a("pre",{class:"language-groovy"},[a("code",null,[n("implementation "),a("span",{class:"token string"},"'io.github.hylexus.jt:jt-dashboard-server-spring-boot-starter:2.2.0-beta3'"),n(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),_=i(`<h3 id="配置" tabindex="-1"><a class="header-anchor" href="#配置"><span>配置</span></a></h3><ul><li>application.yml</li></ul><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">9090</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">jackson</span><span class="token punctuation">:</span>
    <span class="token key atrule">time-zone</span><span class="token punctuation">:</span> Asia/Shanghai

<span class="token key atrule">logging</span><span class="token punctuation">:</span>
  <span class="token key atrule">level</span><span class="token punctuation">:</span>
    <span class="token key atrule">root</span><span class="token punctuation">:</span> info
    <span class="token key atrule">io.github.hylexus.jt.dashboard.server.registry</span><span class="token punctuation">:</span> debug
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="启动服务端" tabindex="-1"><a class="header-anchor" href="#启动服务端"><span>启动服务端</span></a></h3><h2 id="配置客户端-jt-t-808" tabindex="-1"><a class="header-anchor" href="#配置客户端-jt-t-808"><span>配置客户端(JT/T 808)</span></a></h2><h3 id="添加依赖" tabindex="-1"><a class="header-anchor" href="#添加依赖"><span>添加依赖</span></a></h3><div class="hint-container tip"><p class="hint-container-title">提示</p><ul><li>假设你已经有一个正常运行的 <strong>808</strong> 项目</li><li><code>spring-boot-starter-webflux</code> 和 <code>spring-boot-starter-web</code> 两个依赖任选其一</li><li>然后再给该项目添加 <code>jt-dashboard-client-spring-boot-starter</code> 依赖</li></ul></div><h4 id="spring-boot-2-x-1" tabindex="-1"><a class="header-anchor" href="#spring-boot-2-x-1"><span>spring-boot-2.x</span></a></h4><div class="hint-container warning"><p class="hint-container-title">注意</p><p><code>jt-framework-dashboard</code> 目前只支持 <code>spring-boot-3.x</code> 版本。后续会支持 <code>spring-boot-2.x</code> 版本。</p></div><h4 id="spring-boot-3-x-1" tabindex="-1"><a class="header-anchor" href="#spring-boot-3-x-1"><span>spring-boot-3.x</span></a></h4><p>使用 <code>spring-boot-3.x</code> 的项目引入 <code>jt-dashboard-client-spring-boot-starter</code></p>`,11),j=a("div",{class:"language-xml line-numbers-mode","data-ext":"xml","data-title":"xml"},[a("pre",{class:"language-xml"},[a("code",null,[n(`
`),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("dependency")]),a("span",{class:"token punctuation"},">")]),n(`
    `),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("groupId")]),a("span",{class:"token punctuation"},">")]),n("io.github.hylexus.jt"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("groupId")]),a("span",{class:"token punctuation"},">")]),n(`
    `),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("artifactId")]),a("span",{class:"token punctuation"},">")]),n("jt-dashboard-client-spring-boot-starter"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("artifactId")]),a("span",{class:"token punctuation"},">")]),n(`
    `),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("version")]),a("span",{class:"token punctuation"},">")]),n("2.2.0-beta3"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("version")]),a("span",{class:"token punctuation"},">")]),n(`
`),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("dependency")]),a("span",{class:"token punctuation"},">")]),n(`

`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"})])],-1),A=a("div",{class:"language-groovy line-numbers-mode","data-ext":"groovy","data-title":"groovy"},[a("pre",{class:"language-groovy"},[a("code",null,[n("implementation "),a("span",{class:"token string"},"'io.github.hylexus.jt:jt-dashboard-client-spring-boot-starter:2.2.0-beta3'"),n(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),I=i(`<h3 id="添加配置" tabindex="-1"><a class="header-anchor" href="#添加配置"><span>添加配置</span></a></h3><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">808</span>

<span class="token key atrule">jt-dashboard</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">jt808</span><span class="token punctuation">:</span>
      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>spring.application.name<span class="token punctuation">}</span>
      <span class="token comment">## dashboard-server 服务端地址(配置内网地址即可)</span>
      <span class="token comment">## 808 服务会将自己注册到 dashboard-server</span>
      <span class="token key atrule">server-url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">9090</span>
      <span class="token comment">## dashboard-server 主动调用该地址(配置内网地址即可)</span>
      <span class="token key atrule">base-url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">808</span>
      <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
        <span class="token comment">## 随意配置</span>
        <span class="token key atrule">role</span><span class="token punctuation">:</span> 808<span class="token punctuation">-</span>server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="启动客户端" tabindex="-1"><a class="header-anchor" href="#启动客户端"><span>启动客户端</span></a></h3><p>启动之后查看日志：</p><ul><li>正常注册到 <code>dashboard-server</code> 时会有类似下面的日志输出：</li></ul><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>2024-01-06 23:57:50.819  INFO 80830 --- [ient-scheduler1] .c.r.i.r.DefaultJtApplicationRegistrator:60 - Application registered itself as 214315538d40
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>注册失败时，看具体原因。比如下面这个输出是由于 <code>dashboard-server</code> 未启动导致的：</li></ul><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>2024-01-06 23:59:28.838  WARN 80927 --- [ient-scheduler1] .c.r.i.r.DefaultJtApplicationRegistrator:67 - Failed to register application as Jt808Application() at jt-dashboard-server ([http://localhost:9090]): null. Further attempts are logged on DEBUG level
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="配置客户端-jt-t-1078" tabindex="-1"><a class="header-anchor" href="#配置客户端-jt-t-1078"><span>配置客户端(JT/T 1078)</span></a></h2><h3 id="添加依赖-1" tabindex="-1"><a class="header-anchor" href="#添加依赖-1"><span>添加依赖</span></a></h3><div class="hint-container tip"><p class="hint-container-title">提示</p><ul><li>假设你已经有一个正常运行的 <strong>1078</strong> 项目</li><li><code>spring-boot-starter-webflux</code> 和 <code>spring-boot-starter-web</code> 两个依赖任选其一</li><li>然后再给该项目添加 <code>jt-dashboard-client-spring-boot-starter</code> 依赖</li></ul></div><h4 id="spring-boot-2-x-2" tabindex="-1"><a class="header-anchor" href="#spring-boot-2-x-2"><span>spring-boot-2.x</span></a></h4><div class="hint-container warning"><p class="hint-container-title">注意</p><p><code>jt-framework-dashboard</code> 目前只支持 <code>spring-boot-3.x</code> 版本。后续会支持 <code>spring-boot-2.x</code> 版本。</p></div><h4 id="spring-boot-3-x-2" tabindex="-1"><a class="header-anchor" href="#spring-boot-3-x-2"><span>spring-boot-3.x</span></a></h4><p>使用 <code>spring-boot-3.x</code> 的项目引入 <code>jt-dashboard-client-spring-boot-starter</code></p>`,15),w=a("div",{class:"language-xml line-numbers-mode","data-ext":"xml","data-title":"xml"},[a("pre",{class:"language-xml"},[a("code",null,[n(`
`),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("dependency")]),a("span",{class:"token punctuation"},">")]),n(`
    `),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("groupId")]),a("span",{class:"token punctuation"},">")]),n("io.github.hylexus.jt"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("groupId")]),a("span",{class:"token punctuation"},">")]),n(`
    `),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("artifactId")]),a("span",{class:"token punctuation"},">")]),n("jt-dashboard-client-spring-boot-starter"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("artifactId")]),a("span",{class:"token punctuation"},">")]),n(`
    `),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("version")]),a("span",{class:"token punctuation"},">")]),n("2.2.0-beta3"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("version")]),a("span",{class:"token punctuation"},">")]),n(`
`),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("dependency")]),a("span",{class:"token punctuation"},">")]),n(`

`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"})])],-1),J=a("div",{class:"language-groovy line-numbers-mode","data-ext":"groovy","data-title":"groovy"},[a("pre",{class:"language-groovy"},[a("code",null,[n("implementation "),a("span",{class:"token string"},"'io.github.hylexus.jt:jt-dashboard-client-spring-boot-starter:2.2.0-beta3'"),n(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),N=i(`<h3 id="添加配置-1" tabindex="-1"><a class="header-anchor" href="#添加配置-1"><span>添加配置</span></a></h3><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token comment"># spring 原生配置</span>
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">1078</span>

<span class="token key atrule">jt-dashboard</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">jt1078</span><span class="token punctuation">:</span>
      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>spring.application.name<span class="token punctuation">}</span>
      <span class="token comment">## dashboard-server 服务端地址(配置内网地址即可)</span>
      <span class="token comment">## 1078 服务会将自己注册到 dashboard-server</span>
      <span class="token key atrule">server-url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">9090</span>
      <span class="token comment">## dashboard-server 会主动调用这个地址(配置内网地址即可)</span>
      <span class="token key atrule">base-url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>$<span class="token punctuation">{</span>server.port<span class="token punctuation">}</span>
      <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
        <span class="token comment">## 随意配置</span>
        <span class="token key atrule">role</span><span class="token punctuation">:</span> 1078<span class="token punctuation">-</span>server
      <span class="token comment">## 这个地址一定要配置成公网地址(或者说是终端可以访问的地址，音视频码流会往这个地址发送)</span>
      <span class="token comment">## 这个地址一定要配置成公网地址(或者说是终端可以访问的地址，音视频码流会往这个地址发送)</span>
      <span class="token comment">## 这个地址一定要配置成公网地址(或者说是终端可以访问的地址，音视频码流会往这个地址发送)</span>
      <span class="token key atrule">host</span><span class="token punctuation">:</span> 1.1.1.1
      <span class="token comment">## 和 jt1078.server.port 的配置保持一致</span>
      <span class="token key atrule">tcp-port</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>jt1078.server.port<span class="token punctuation">}</span>
      <span class="token comment">## 和 server.port 的配置保持一致</span>
      <span class="token key atrule">http-port</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>server.port<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="启动客户端-1" tabindex="-1"><a class="header-anchor" href="#启动客户端-1"><span>启动客户端</span></a></h3><p>启动之后查看日志：</p><ul><li>正常注册到 <code>dashboard-server</code> 时会有类似下面的日志输出：</li></ul><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>2024-01-07 00:22:17.941  INFO 81759 --- [ient-scheduler1] .c.r.i.r.DefaultJtApplicationRegistrator:60 - Application registered itself as 33c2c9d7955f
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>注册失败时，看具体原因。比如下面这个输出是由于 <code>dashboard-server</code> 未启动导致的：</li></ul><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>2024-01-07 00:22:45.968  WARN 81783 --- [ient-scheduler1] .c.r.i.r.DefaultJtApplicationRegistrator:67 - Failed to register application as Jt1078Application(host=1.1.1.1, httpPort=1078, tcpPort=61078) at jt-dashboard-server ([http://localhost:9090]): null. Further attempts are logged on DEBUG level
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="验证" tabindex="-1"><a class="header-anchor" href="#验证"><span>验证</span></a></h2>`,9);function T(D,F){const p=c("ExternalLinkIcon"),o=c("CodeTabs");return d(),u("div",null,[k,b,a("div",m,[h,a("p",null,[n("本小节的示例可以在 "),a("a",g,[n("jt-framework-samples-maven"),l(p)]),n(" 下找到对应代码。")])]),x,l(o,{id:"31",data:[{id:"maven"},{id:"gradle"}],active:1,"tab-id":"gradle"},{title0:s(({value:e,isActive:t})=>[n("maven")]),title1:s(({value:e,isActive:t})=>[n("gradle")]),tab0:s(({value:e,isActive:t})=>[y]),tab1:s(({value:e,isActive:t})=>[f]),_:1}),_,l(o,{id:"92",data:[{id:"maven"},{id:"gradle"}],active:1,"tab-id":"gradle"},{title0:s(({value:e,isActive:t})=>[n("maven")]),title1:s(({value:e,isActive:t})=>[n("gradle")]),tab0:s(({value:e,isActive:t})=>[j]),tab1:s(({value:e,isActive:t})=>[A]),_:1}),I,l(o,{id:"165",data:[{id:"maven"},{id:"gradle"}],active:1,"tab-id":"gradle"},{title0:s(({value:e,isActive:t})=>[n("maven")]),title1:s(({value:e,isActive:t})=>[n("gradle")]),tab0:s(({value:e,isActive:t})=>[w]),tab1:s(({value:e,isActive:t})=>[J]),_:1}),N])}const E=r(v,[["render",T],["__file","quick-start.html.vue"]]);export{E as default};
